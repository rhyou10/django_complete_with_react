{% load bootstrap4 %}
<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8"> 

        <title>Instagram/post_list</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <!-- bootstrap css-->

    </head>
    <body>
        <form action="" method="get"> <!--action이 비어있으므로 상대경로로 웹페이지 생성?-->
            <input type = 'text' name='q' value="{{q}}">
            <input type = 'submit' value="검색">

        </form>
        <table class="table table-bordered table-hover"> <!--이 table은 bootstrap 가지고와서 쓸수있는거(디자인)-->
            <tbody>
                {% for post in post_list %}
                <tr>
                    <td>
                        {{post.pk}}
                    </td>

                    <td>
                        {% if post.photo %}
                            <img src="{{post.photo.url}}" style="width: 100px;">
                        {% else %}
                            no photo
                        {% endif %}
                    </td>
                    <td>
                        <!--<a href="/instagram/{{post.pk}}/">이 방식은 instagram 자체 url 변경시 사용불가해진다. url-reverse 사용하는 이유 -->
                            <!-- <a href={% url "instagram:post_detail" post.pk%} > url reverse 방식 -->
                                <!--모델에 get_absolute_url 지정시-->
                                <a href="{{post.get_absolute_url}}" >
                            {{post.message}}
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
    </table>


    {% if is_paginated %}
        {% bootstrap_pagination page_obj size="large" justify_content="center"%}    
    {% endif %}
    {{page_obj}}
    </body>



</html>